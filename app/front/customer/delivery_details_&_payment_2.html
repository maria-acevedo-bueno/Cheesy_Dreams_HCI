<!DOCTYPE html>

<html class="light" lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Home Delivery Checkout - Cheesy Dreams</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <link href="https://fonts.cdnfonts.com/css/opendyslexic" rel="stylesheet">
  <script
    id="tailwind-config">tailwind.config = { darkMode: "class", theme: { extend: { colors: { primary: "#fac638", "background-light": "#f8f8f5", "background-dark": "#231e0f" }, fontFamily: { display: "Work Sans" }, borderRadius: { DEFAULT: "0.25rem", lg: "0.5rem", xl: "0.75rem", full: "9999px" } } } };</script>
  <style>
    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }

    /* --- Accessibility Variables --- */
    :root {
      --a11y-fg: inherit;
      --a11y-bg: inherit;
    }

    body.a11y-dyslexia-font {
      font-family: 'OpenDyslexic', 'Work Sans', sans-serif !important;
    }

    body.a11y-cursor-big,
    body.a11y-cursor-big a,
    body.a11y-cursor-big button {
      cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="black" stroke="white" stroke-width="2"><path d="M5.5 3.21V20.8c0 .45.54.67.85.35l4.86-4.86a.5.5 0 0 1 .35-.15h6.87a.5.5 0 0 0 .35-.85L6.35 2.85a.5.5 0 0 0-.85.36z"/></svg>') 0 0, auto !important;
    }

    body.a11y-highlight-links a {
      text-decoration: underline !important;
      text-decoration-thickness: 4px !important;
      text-decoration-color: #fac638 !important;
      font-weight: 800 !important;
    }

    body.a11y-text-spacing * {
      line-height: 1.8 !important;
      letter-spacing: 0.1em !important;
      word-spacing: 0.16em !important;
    }

    body.a11y-text-spacing p {
      margin-bottom: 2em !important;
    }

    html.a11y-grayscale {
      filter: grayscale(100%) !important;
    }

    body.a11y-paused * {
      animation-play-state: paused !important;
      transition: none !important;
    }

    #a11y-reading-guide {
      display: none;
      position: fixed;
      left: 0;
      width: 100%;
      height: 20px;
      background-color: rgba(250, 198, 56, 0.4);
      border-top: 2px solid #fac638;
      border-bottom: 2px solid #fac638;
      pointer-events: none;
      z-index: 99999;
      transform: translateY(-50%);
    }

    body.a11y-reading-guide #a11y-reading-guide {
      display: block;
    }

    body.a11y-high-contrast .layout-container,
    body.a11y-high-contrast .layout-container *:not(.material-symbols-outlined) {
      color: var(--a11y-fg) !important;
      background-color: var(--a11y-bg) !important;
      border-color: var(--a11y-fg) !important;
      box-shadow: none !important;
    }

    body.a11y-high-contrast .layout-container .material-symbols-outlined {
      color: var(--a11y-fg) !important;
    }

    body.a11y-high-contrast .layout-container button {
      border-width: 2px !important;
      border-style: solid !important;
    }
  </style>
</head>
<script src="popup.js"></script>

<body class="font-display bg-background-light dark:bg-background-dark text-[#181611] dark:text-gray-200">
  <div id="a11y-reading-guide"></div>
  <div class="layout-container relative flex min-h-screen w-full flex-col group/design-root overflow-x-hidden">
    <header
      class="flex items-center justify-between whitespace-nowrap border-b border-solid border-[#e6e3db] dark:border-gray-700 px-6 md:px-10 lg:px-20 py-4 bg-white dark:bg-background-dark">
      <div class="flex items-center gap-4 text-[#181611] dark:text-white">
        <div class="size-6 text-primary">
          <svg fill="currentColor" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
            <path clip-rule="evenodd"
              d="M39.475 21.6262C40.358 21.4363 40.6863 21.5589 40.7581 21.5934C40.7876 21.655 40.8547 21.857 40.8082 22.3336C40.7408 23.0255 40.4502 24.0046 39.8572 25.2301C38.6799 27.6631 36.5085 30.6631 33.5858 33.5858C30.6631 36.5085 27.6632 38.6799 25.2301 39.8572C24.0046 40.4502 23.0255 40.7407 22.3336 40.8082C21.8571 40.8547 21.6551 40.7875 21.5934 40.7581C21.5589 40.6863 21.4363 40.358 21.6262 39.475C21.8562 38.4054 22.4689 36.9657 23.5038 35.2817C24.7575 33.2417 26.5497 30.9744 28.7621 28.762C30.9744 26.5497 33.2417 24.7574 35.2817 23.5037C36.9657 22.4689 38.4054 21.8562 39.475 21.6262ZM4.41189 29.2403L18.7597 43.5881C19.8813 44.7097 21.4027 44.9179 22.7217 44.7893C24.0585 44.659 25.5148 44.1631 26.9723 43.4579C29.9052 42.0387 33.2618 39.5667 36.4142 36.4142C39.5667 33.2618 42.0387 29.9052 43.4579 26.9723C44.1631 25.5148 44.659 24.0585 44.7893 22.7217C44.9179 21.4027 44.7097 19.8813 43.5881 18.7597L29.2403 4.41187C27.8527 3.02428 25.8765 3.02573 24.2861 3.36776C22.6081 3.72863 20.7334 4.58419 18.8396 5.74801C16.4978 7.18716 13.9881 9.18353 11.5858 11.5858C9.18354 13.988 7.18717 16.4978 5.74802 18.8396C4.58421 20.7334 3.72865 22.6081 3.36778 24.2861C3.02574 25.8765 3.02429 27.8527 4.41189 29.2403Z"
              fill="currentColor" fill-rule="evenodd"></path>
          </svg>
        </div>
        <h1 class="text-[#181611] dark:text-white text-xl font-bold leading-tight tracking-[-0.015em]">Cheesy Dreams
        </h1>
      </div>
      <div class="flex flex-1 justify-end">
        <a class="text-[#181611] dark:text-gray-300 dark:hover:text-white text-sm font-medium leading-normal hover:text-primary transition-colors"
          href="#">Back to Menu</a>
      </div>
    </header>
    <main class="w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12">
        <div class="lg:col-span-2">
          <div class="flex items-center gap-2 mb-8">
            <span class="text-primary text-base font-bold leading-normal">Address</span>
            <span class="text-[#8c805f] dark:text-gray-500 text-base font-medium leading-normal">/</span>
            <span class="text-[#8c805f] dark:text-gray-500 text-base font-medium leading-normal">Time</span>
            <span class="text-[#8c805f] dark:text-gray-500 text-base font-medium leading-normal">/</span>
            <span class="text-[#8c805f] dark:text-gray-500 text-base font-medium leading-normal">Payment</span>
          </div>
          <div class="space-y-12">
            <section aria-labelledby="address-heading">
              <h2 class="text-[#181611] dark:text-white text-2xl font-bold leading-tight tracking-[-0.015em] pb-6"
                id="address-heading">Where should we deliver?</h2>
              <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
                <div class="sm:col-span-6">
                  <label class="block text-base font-medium leading-normal pb-2 text-[#181611] dark:text-gray-300"
                    for="street-address">Street Address</label>
                  <input autocomplete="street-address"
                    class="form-input block w-full resize-none overflow-hidden rounded-xl text-[#181611] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#e6e3db] dark:border-gray-600 bg-white dark:bg-background-dark/50 h-14 placeholder:text-[#8c805f] p-[15px] text-base font-normal leading-normal"
                    id="street-address" name="street-address" placeholder="123 Cheesy Lane" type="text" />
                </div>
                <div class="sm:col-span-3">
                  <label class="block text-base font-medium leading-normal pb-2 text-[#181611] dark:text-gray-300"
                    for="apt-suite">Apt/Suite (Optional)</label>
                  <input
                    class="form-input block w-full resize-none overflow-hidden rounded-xl text-[#181611] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#e6e3db] dark:border-gray-600 bg-white dark:bg-background-dark/50 h-14 placeholder:text-[#8c805f] p-[15px] text-base font-normal leading-normal"
                    id="apt-suite" name="apt-suite" placeholder="Apartment, suite, etc." type="text" />
                </div>
                <div class="sm:col-span-3">
                  <label class="block text-base font-medium leading-normal pb-2 text-[#181611] dark:text-gray-300"
                    for="city">City</label>
                  <input autocomplete="address-level2"
                    class="form-input block w-full resize-none overflow-hidden rounded-xl text-[#181611] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#e6e3db] dark:border-gray-600 bg-white dark:bg-background-dark/50 h-14 placeholder:text-[#8c805f] p-[15px] text-base font-normal leading-normal"
                    id="city" name="city" placeholder="Gouda Ville" type="text" />
                </div>
                <div class="sm:col-span-3">
                  <label class="block text-base font-medium leading-normal pb-2 text-[#181611] dark:text-gray-300"
                    for="state">State / Province</label>
                  <input autocomplete="address-level1"
                    class="form-input block w-full resize-none overflow-hidden rounded-xl text-[#181611] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#e6e3db] dark:border-gray-600 bg-white dark:bg-background-dark/50 h-14 placeholder:text-[#8c805f] p-[15px] text-base font-normal leading-normal"
                    id="state" name="state" placeholder="CA" type="text" />
                </div>
                <div class="sm:col-span-3">
                  <label class="block text-base font-medium leading-normal pb-2 text-[#181611] dark:text-gray-300"
                    for="zip-code">ZIP / Postal code</label>
                  <input autocomplete="postal-code"
                    class="form-input block w-full resize-none overflow-hidden rounded-xl text-[#181611] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#e6e3db] dark:border-gray-600 bg-white dark:bg-background-dark/50 h-14 placeholder:text-[#8c805f] p-[15px] text-base font-normal leading-normal"
                    id="zip-code" name="zip-code" placeholder="90210" type="text" />
                </div>
              </div>
            </section>
            <div class="border-t border-[#e6e3db] dark:border-gray-700"></div>
            <section aria-labelledby="time-heading">
              <h2 class="text-[#181611] dark:text-white text-2xl font-bold leading-tight tracking-[-0.015em] pb-6"
                id="time-heading">When would you like your order?</h2>
              <fieldset>
                <legend class="sr-only">Delivery time slots</legend>
                <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                  <label
                    class="cursor-pointer rounded-xl border border-[#e6e3db] dark:border-gray-600 p-4 text-center has-[:checked]:bg-primary/20 dark:has-[:checked]:bg-primary/30 has-[:checked]:border-primary dark:has-[:checked]:border-primary transition-colors"
                    for="time-1">
                    <input class="sr-only" id="time-1" name="delivery-time" type="radio" value="5:30-6:00" />
                    <span class="block text-sm font-medium text-[#181611] dark:text-gray-200">5:30 PM - 6:00 PM</span>
                  </label>
                  <label
                    class="cursor-pointer rounded-xl border border-[#e6e3db] dark:border-gray-600 p-4 text-center has-[:checked]:bg-primary/20 dark:has-[:checked]:bg-primary/30 has-[:checked]:border-primary dark:has-[:checked]:border-primary transition-colors"
                    for="time-2">
                    <input checked="" class="sr-only" id="time-2" name="delivery-time" type="radio" value="6:00-6:30" />
                    <span class="block text-sm font-medium text-[#181611] dark:text-gray-200">6:00 PM - 6:30 PM</span>
                  </label>
                  <label
                    class="cursor-pointer rounded-xl border border-[#e6e3db] dark:border-gray-600 p-4 text-center has-[:checked]:bg-primary/20 dark:has-[:checked]:bg-primary/30 has-[:checked]:border-primary dark:has-[:checked]:border-primary transition-colors"
                    for="time-3">
                    <input class="sr-only" id="time-3" name="delivery-time" type="radio" value="6:30-7:00" />
                    <span class="block text-sm font-medium text-[#181611] dark:text-gray-200">6:30 PM - 7:00 PM</span>
                  </label>
                  <label
                    class="cursor-pointer rounded-xl border border-[#e6e3db] dark:border-gray-600 p-4 text-center has-[:checked]:bg-primary/20 dark:has-[:checked]:bg-primary/30 has-[:checked]:border-primary dark:has-[:checked]:border-primary transition-colors"
                    for="time-4">
                    <input class="sr-only" id="time-4" name="delivery-time" type="radio" value="7:00-7:30" />
                    <span class="block text-sm font-medium text-[#181611] dark:text-gray-200">7:00 PM - 7:30 PM</span>
                  </label>
                  <label
                    class="cursor-pointer rounded-xl border border-[#e6e3db] dark:border-gray-600 p-4 text-center has-[:checked]:bg-primary/20 dark:has-[:checked]:bg-primary/30 has-[:checked]:border-primary dark:has-[:checked]:border-primary transition-colors"
                    for="time-5">
                    <input class="sr-only" id="time-5" name="delivery-time" type="radio" value="7:30-8:00" />
                    <span class="block text-sm font-medium text-[#181611] dark:text-gray-200">7:30 PM - 8:00 PM</span>
                  </label>
                  <label
                    class="cursor-pointer rounded-xl border border-[#e6e3db] dark:border-gray-600 p-4 text-center opacity-50 cursor-not-allowed"
                    for="time-6">
                    <input class="sr-only" disabled="" id="time-6" name="delivery-time" type="radio"
                      value="8:00-8:30" />
                    <span class="block text-sm font-medium text-[#8c805f] dark:text-gray-500">8:00 PM - 8:30 PM</span>
                  </label>
                </div>
              </fieldset>
            </section>
            <div class="border-t border-[#e6e3db] dark:border-gray-700"></div>
            <section aria-labelledby="payment-heading">
              <h2 class="text-[#181611] dark:text-white text-2xl font-bold leading-tight tracking-[-0.015em] pb-6"
                id="payment-heading">How would you like to pay?</h2>
              <fieldset>
                <legend class="sr-only">Payment method</legend>
                <div class="space-y-4">
                  <label
                    class="flex cursor-pointer items-center gap-4 rounded-xl border border-[#e6e3db] dark:border-gray-600 p-4 has-[:checked]:border-primary dark:has-[:checked]:border-primary has-[:checked]:bg-primary/20 dark:has-[:checked]:bg-primary/30 transition-colors"
                    for="payment-card">
                    <input checked="" class="form-radio h-5 w-5 text-primary focus:ring-primary" id="payment-card"
                      name="payment-method" type="radio" />
                    <span class="material-symbols-outlined text-3xl">credit_card</span>
                    <span class="text-base font-medium text-[#181611] dark:text-gray-200">Credit / Debit Card</span>
                  </label>
                  <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-4 pl-8">
                    <div class="sm:col-span-4">
                      <label class="block text-sm font-medium text-[#181611] dark:text-gray-300" for="card-number">Card
                        Number</label>
                      <input
                        class="form-input mt-1 block w-full rounded-lg border-[#e6e3db] dark:border-gray-600 bg-white dark:bg-background-dark/50 focus:border-primary focus:ring-primary"
                        id="card-number" name="card-number" placeholder="•••• •••• •••• 1234" type="text" />
                    </div>
                    <div class="sm:col-span-2">
                      <label class="block text-sm font-medium text-[#181611] dark:text-gray-300"
                        for="expiration-date">Expiration (MM/YY)</label>
                      <input
                        class="form-input mt-1 block w-full rounded-lg border-[#e6e3db] dark:border-gray-600 bg-white dark:bg-background-dark/50 focus:border-primary focus:ring-primary"
                        id="expiration-date" name="expiration-date" placeholder="MM/YY" type="text" />
                    </div>
                    <div class="sm:col-span-2">
                      <label class="block text-sm font-medium text-[#181611] dark:text-gray-300" for="cvc">CVC</label>
                      <input
                        class="form-input mt-1 block w-full rounded-lg border-[#e6e3db] dark:border-gray-600 bg-white dark:bg-background-dark/50 focus:border-primary focus:ring-primary"
                        id="cvc" name="cvc" placeholder="•••" type="text" />
                    </div>
                  </div>
                  <label
                    class="flex cursor-pointer items-center gap-4 rounded-xl border border-[#e6e3db] dark:border-gray-600 p-4 has-[:checked]:border-primary dark:has-[:checked]:border-primary has-[:checked]:bg-primary/20 dark:has-[:checked]:bg-primary/30 transition-colors"
                    for="payment-paypal">
                    <input class="form-radio h-5 w-5 text-primary focus:ring-primary" id="payment-paypal"
                      name="payment-method" type="radio" />
                    <span class="material-symbols-outlined text-3xl">payments</span>
                    <span class="text-base font-medium text-[#181611] dark:text-gray-200">PayPal</span>
                  </label>
                </div>
              </fieldset>
            </section>
          </div>
        </div>
        <div class="lg:col-span-1">
          <div
            class="sticky top-10 rounded-xl bg-white dark:bg-background-dark/50 border border-[#e6e3db] dark:border-gray-700 shadow-sm p-6">
            <h2 class="text-xl font-bold text-[#181611] dark:text-white mb-6">Your Order</h2>
            <ul class="divide-y divide-[#e6e3db] dark:divide-gray-700" role="list">
              <li class="flex items-center justify-between py-4">
                <div class="flex items-center gap-4">
                  <img alt="A classic margherita pizza with fresh basil." class="h-16 w-16 rounded-lg object-cover"
                    src="https://lh3.googleusercontent.com/aida-public/AB6AXuCqudRzxC50Axnc5OXtRoDN1WVTIC_3KDmjvNAlLJ8KyZm7gsRnReIAG2ipynE6w_nejIdh75SB2GPfpoxn28v_kLJ_fKoOCuwqG6Gv31l2kZw8mnpwmMmPQO5HqU3asJj6kBG_VpVfF2qMnMWkJCHzyIKwVP1WgmQFFhK_y6VV2M3TW-ZDOXtdEGLn2gtZjsD5EYEOjUElkaoPRbmqI6uSDqFHlCdw2Ez_TmYbb6NiOvbHoD3oYQo2N_lFeT71Ks5O3AWWbxYvvZY" />
                  <div>
                    <p class="font-semibold text-[#181611] dark:text-gray-200">The Margherita Dream</p>
                    <p class="text-sm text-[#8c805f] dark:text-gray-400">1x</p>
                  </div>
                </div>
                <p class="font-medium text-[#181611] dark:text-gray-200">$14.00</p>
              </li>
              <li class="flex items-center justify-between py-4">
                <div class="flex items-center gap-4">
                  <img alt="A pepperoni pizza slice being lifted with cheese stretching."
                    class="h-16 w-16 rounded-lg object-cover"
                    src="https://lh3.googleusercontent.com/aida-public/AB6AXuDOjUClfXebwdUyirHX5LtfKBAXFsqbkxGvhCuLgaWZ9q9sPsfgeZ6eGLT--zmuhyHCkDg0vtSXKoa__gnGDlspOS_UpzivCIv5_Z_1GZc1HYKkcKA7syiDDcGxK3WBQUpvHOOgINMeBFBzqids5uc-OripaDqC79rpLG-Iex3-kHGgztE5owcpeL1uqEWhXs9DxZz1PUIzfM5oG0a5vfl-Tecx_4SeuZ2ST7XHw0UHPckMrSrLQK3mcZPHV-NPoDqYLLa1iTSQbsI" />
                  <div>
                    <p class="font-semibold text-[#181611] dark:text-gray-200">Pepperoni Paradise</p>
                    <p class="text-sm text-[#8c805f] dark:text-gray-400">1x</p>
                  </div>
                </div>
                <p class="font-medium text-[#181611] dark:text-gray-200">$16.00</p>
              </li>
            </ul>
            <div class="mt-6 space-y-2 border-t border-[#e6e3db] dark:border-gray-700 pt-6">
              <div class="flex justify-between text-base text-[#8c805f] dark:text-gray-400">
                <span>Subtotal</span>
                <span>$30.00</span>
              </div>
              <div class="flex justify-between text-base text-[#8c805f] dark:text-gray-400">
                <span>Delivery Fee</span>
                <span>$5.00</span>
              </div>
              <div class="flex justify-between text-base text-[#8c805f] dark:text-gray-400">
                <span>Taxes</span>
                <span>$2.40</span>
              </div>
              <div
                class="flex justify-between text-lg font-bold text-[#181611] dark:text-white mt-4 pt-4 border-t border-[#e6e3db] dark:border-gray-700">
                <span>Total</span>
                <span>$37.40</span>
              </div>
            </div>
            <button
              class="mt-8 w-full rounded-full bg-primary py-4 px-6 text-center text-base font-bold text-[#181611] hover:brightness-110 transition-all"
              type="submit">
              Place Order
            </button>
          </div>
        </div>
      </div>
    </main>
    <footer class="w-full bg-white dark:bg-background-dark/50 border-t border-[#e6e3db] dark:border-gray-700 mt-12">
      <div
        class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row justify-between items-center text-center sm:text-left">
        <p class="text-sm text-[#8c805f] dark:text-gray-400">© 2024 Cheesy Dreams. All rights reserved.</p>
        <div class="flex gap-6 mt-4 sm:mt-0">
          <a class="text-sm text-[#8c805f] dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors"
            href="#">Privacy Policy</a>
          <a class="text-sm text-[#8c805f] dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors"
            href="#">Terms of Service</a>
          <a class="text-sm text-[#8c805f] dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors"
            href="#">Contact</a>
        </div>
      </div>
    </footer>
    <div class="fixed bottom-4 right-4 z-50">
      <button id="accessibility-trigger" type="button" aria-controls="accessibility-menu" aria-expanded="false"
        class="flex h-14 w-14 items-center justify-center rounded-full bg-primary text-white shadow-lg hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-secondary focus:ring-offset-2 focus:ring-offset-background-light">
        <span class="material-symbols-outlined !text-3xl text-[#181611]">accessibility_new</span>
        <span class="sr-only">Open Accessibility Menu</span>
      </button>

      <div id="accessibility-menu" role="dialog" aria-labelledby="accessibility-heading" aria-modal="true"
        class="hidden mt-3 w-72 rounded-lg bg-white shadow-xl border border-gray-200 absolute bottom-16 right-0">

        <div class="p-4 border-b border-gray-200">
          <h2 class="text-lg font-bold text-gray-900" id="accessibility-heading">
            Accessibility Settings
          </h2>
        </div>

        <div class="p-4 space-y-4 h-80 overflow-y-auto custom-scrollbar">
          <div class="space-y-2">
            <label class="text-sm font-medium text-gray-700" for="font-size">Font Size</label>
            <div class="flex items-center gap-2">
              <span class="text-xs text-gray-500">A</span>
              <input id="font-size" type="range" min="100" max="180" value="100"
                class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary" />
              <span class="text-lg text-gray-500">A</span>
            </div>
          </div>

          <div class="space-y-2">
            <p class="text-sm font-medium text-gray-700">Contrast Theme</p>
            <div class="grid grid-cols-4 gap-2">
              <button class="h-8 w-8 rounded-full border-2 border-gray-300 bg-white" data-contrast="black-on-white"
                data-fg="#000000" data-bg="#ffffff" title="Black on white"></button>

              <button class="h-8 w-8 rounded-full border-2 border-gray-300 bg-black" data-contrast="white-on-black"
                data-fg="#ffffff" data-bg="#000000" title="White on black"></button>

              <button class="h-8 w-8 rounded-full border-2 border-gray-300 bg-yellow-400" data-contrast="yellow-on-blue"
                data-fg="#facc15" data-bg="#020617" title="Yellow on dark blue"></button>

              <button class="h-8 w-8 rounded-full border-2 border-gray-300 bg-blue-600" data-contrast="blue-on-white"
                data-fg="#2563eb" data-bg="#ffffff" title="Blue on white"></button>
            </div>
          </div>

          <div class="space-y-3 pt-2 border-t border-gray-200">
            <div class="flex items-center justify-between">
              <p class="text-sm font-medium text-gray-700">Grayscale</p>
              <label class="inline-flex items-center gap-2 cursor-pointer">
                <input id="grayscale-toggle" type="checkbox"
                  class="rounded border-gray-300 text-primary focus:ring-primary-dark" />
                <span class="text-xs text-gray-500">On</span>
              </label>
            </div>

            <div class="flex items-center justify-between">
              <p class="text-sm font-medium text-gray-700">Text Spacing</p>
              <label class="inline-flex items-center gap-2 cursor-pointer">
                <input id="spacing-toggle" type="checkbox"
                  class="rounded border-gray-300 text-primary focus:ring-primary-dark" />
                <span class="text-xs text-gray-500">On</span>
              </label>
            </div>

            <div class="flex items-center justify-between">
              <p class="text-sm font-medium text-gray-700">Dyslexia Font</p>
              <label class="inline-flex items-center gap-2 cursor-pointer">
                <input id="dyslexia-toggle" type="checkbox"
                  class="rounded border-gray-300 text-primary focus:ring-primary-dark" />
                <span class="text-xs text-gray-500">On</span>
              </label>
            </div>

            <div class="flex items-center justify-between">
              <p class="text-sm font-medium text-gray-700">Big Cursor</p>
              <label class="inline-flex items-center gap-2 cursor-pointer">
                <input id="cursor-toggle" type="checkbox"
                  class="rounded border-gray-300 text-primary focus:ring-primary-dark" />
                <span class="text-xs text-gray-500">On</span>
              </label>
            </div>

            <div class="flex items-center justify-between">
              <p class="text-sm font-medium text-gray-700">Highlight Links</p>
              <label class="inline-flex items-center gap-2 cursor-pointer">
                <input id="links-toggle" type="checkbox"
                  class="rounded border-gray-300 text-primary focus:ring-primary-dark" />
                <span class="text-xs text-gray-500">On</span>
              </label>
            </div>

            <div class="flex items-center justify-between">
              <p class="text-sm font-medium text-gray-700">Reading Guide</p>
              <label class="inline-flex items-center gap-2 cursor-pointer">
                <input id="reading-guide-toggle" type="checkbox"
                  class="rounded border-gray-300 text-primary focus:ring-primary-dark" />
                <span class="text-xs text-gray-500">On</span>
              </label>
            </div>

            <div class="flex items-center justify-between">
              <p class="text-sm font-medium text-gray-700">Pause Animations</p>
              <label class="inline-flex items-center gap-2 cursor-pointer">
                <input id="animation-toggle" type="checkbox"
                  class="rounded border-gray-300 text-primary focus:ring-primary-dark" />
                <span class="text-xs text-gray-500">On</span>
              </label>
            </div>
          </div>

          <div class="p-4 border-t border-gray-200">
            <button id="a11y-reset" class="w-full text-center text-sm font-semibold text-gray-500 hover:underline">
              Reset to Default
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // ===== Simple "not implemented" modal for links with data-not-implemented =====
      (function () {
        function showNotImplemented() {
          if (document.querySelector('.__notimpl_modal_backdrop')) return;

          const backdrop = document.createElement('div');
          backdrop.className = '__notimpl_modal_backdrop';
          Object.assign(backdrop.style, {
            position: 'fixed',
            inset: '0',
            background: 'rgba(0,0,0,0.5)',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            zIndex: '9999'
          });

          const modal = document.createElement('div');
          Object.assign(modal.style, {
            background: 'white',
            padding: '24px',
            borderRadius: '12px',
            maxWidth: '90%',
            width: '360px',
            boxShadow: '0 8px 30px rgba(0,0,0,0.2)',
            textAlign: 'center',
            fontFamily: 'Work Sans, sans-serif'
          });

          const title = document.createElement('h2');
          title.textContent = 'Not implemented yet!';
          title.style.marginBottom = '12px';

          const text = document.createElement('p');
          text.textContent = 'Esta funcionalidad aún no está implementada.';
          text.style.marginBottom = '20px';

          const btn = document.createElement('button');
          btn.textContent = 'Cerrar';
          Object.assign(btn.style, {
            padding: '10px 20px',
            borderRadius: '8px',
            border: 'none',
            cursor: 'pointer',
            background: '#fac638',
            color: 'white',
            fontWeight: '600'
          });
          btn.addEventListener('click', () => backdrop.remove());

          modal.appendChild(title);
          modal.appendChild(text);
          modal.appendChild(btn);
          backdrop.appendChild(modal);

          backdrop.addEventListener('click', (e) => {
            if (e.target === backdrop) backdrop.remove();
          });

          document.body.appendChild(backdrop);
        }

        document.addEventListener('click', (e) => {
          const target = e.target.closest('[data-not-implemented]');
          if (target) {
            e.preventDefault();
            showNotImplemented();
          }
        });
      })();

      // ===== ACCESSIBILITY PANEL + SETTINGS =====
      (function () {
        const KEY_SIZE = 'a11y_font';
        const KEY_FG = 'a11y_fg';
        const KEY_BG = 'a11y_bg';
        const KEY_DYS = 'a11y_dyslexia';
        const KEY_HC = 'a11y_highcontrast';
        const KEY_CURSOR = 'a11y_cursor';
        const KEY_LINKS = 'a11y_links';
        const KEY_GRAY = 'a11y_grayscale';
        const KEY_SPACE = 'a11y_spacing';
        const KEY_GUIDE = 'a11y_guide';
        const KEY_PAUSE = 'a11y_pause';

        const trigger = document.getElementById('accessibility-trigger');
        const menu = document.getElementById('accessibility-menu');

        const sizeSlider = document.getElementById('font-size');
        const dyslexiaToggle = document.getElementById('dyslexia-toggle');
        const cursorToggle = document.getElementById('cursor-toggle');
        const linksToggle = document.getElementById('links-toggle');
        const grayscaleToggle = document.getElementById('grayscale-toggle');
        const spacingToggle = document.getElementById('spacing-toggle');
        const guideToggle = document.getElementById('reading-guide-toggle');
        const animationToggle = document.getElementById('animation-toggle');
        const resetBtn = document.getElementById('a11y-reset');

        const contrastButtons = document.querySelectorAll('[data-contrast]');
        const readingGuide = document.getElementById('a11y-reading-guide');

        // --- Reading Guide Follow Logic ---
        document.addEventListener('mousemove', (e) => {
          if (document.body.classList.contains('a11y-reading-guide')) {
            readingGuide.style.top = e.clientY + 'px';
          }
        });

        // --- Toggle panel visibility ---
        if (trigger && menu) {
          trigger.addEventListener('click', () => {
            const isHidden = menu.classList.contains('hidden');
            menu.classList.toggle('hidden', !isHidden);
            trigger.setAttribute('aria-expanded', String(isHidden));
          });
        }

        // --- Apply settings on load ---
        applyInitialSettings();

        // --- Font size (100–180%) ---
        if (sizeSlider) {
          sizeSlider.addEventListener('input', (e) => {
            const value = e.target.value;
            document.documentElement.style.fontSize = value + '%';
            localStorage.setItem(KEY_SIZE, value);
          });
        }

        // --- High contrast presets (safe pairs only) ---
        contrastButtons.forEach((btn) => {
          btn.addEventListener('click', () => {
            const currentFg = btn.dataset.fg;
            const currentBg = btn.dataset.bg;
            setHighContrast(currentFg, currentBg);
          });
        });

        function setHighContrast(fg, bg) {
          if (fg) {
            document.documentElement.style.setProperty('--a11y-fg', fg);
            localStorage.setItem(KEY_FG, fg);
          }
          if (bg) {
            document.documentElement.style.setProperty('--a11y-bg', bg);
            localStorage.setItem(KEY_BG, bg);
          }
          document.body.classList.add('a11y-high-contrast', 'a11y-custom-colors');
          localStorage.setItem(KEY_HC, '1');
        }

        // --- Generic Toggle Handler ---
        function setupToggle(el, cls, key) {
          if (!el) return;
          el.addEventListener('change', () => {
            const enabled = el.checked;
            if (cls === 'a11y-grayscale') {
              document.documentElement.classList.toggle(cls, enabled);
            } else {
              document.body.classList.toggle(cls, enabled);
            }
            localStorage.setItem(key, enabled ? '1' : '0');
          });
        }

        setupToggle(dyslexiaToggle, 'a11y-dyslexia-font', KEY_DYS);
        setupToggle(cursorToggle, 'a11y-cursor-big', KEY_CURSOR);
        setupToggle(linksToggle, 'a11y-highlight-links', KEY_LINKS);
        setupToggle(grayscaleToggle, 'a11y-grayscale', KEY_GRAY);
        setupToggle(spacingToggle, 'a11y-text-spacing', KEY_SPACE);
        setupToggle(guideToggle, 'a11y-reading-guide', KEY_GUIDE);
        setupToggle(animationToggle, 'a11y-paused', KEY_PAUSE);

        // --- Reset ---
        if (resetBtn) {
          resetBtn.addEventListener('click', (e) => {
            e.preventDefault();

            // Reset font
            document.documentElement.style.fontSize = '100%';
            if (sizeSlider) sizeSlider.value = 100;

            // Reset CSS vars
            document.documentElement.style.removeProperty('--a11y-fg');
            document.documentElement.style.removeProperty('--a11y-bg');

            // Reset classes
            document.body.classList.remove(
              'a11y-high-contrast', 'a11y-custom-colors', 'a11y-dyslexia-font',
              'a11y-cursor-big', 'a11y-highlight-links', 'a11y-text-spacing',
              'a11y-reading-guide', 'a11y-paused'
            );
            document.documentElement.classList.remove('a11y-grayscale');

            // Reset dyslexia toggle
            [dyslexiaToggle, cursorToggle, linksToggle, grayscaleToggle, spacingToggle, guideToggle, animationToggle].forEach(el => {
              if (el) el.checked = false;
            });

            // Clear storage
            [KEY_SIZE, KEY_FG, KEY_BG, KEY_DYS, KEY_HC, KEY_CURSOR, KEY_LINKS, KEY_GRAY, KEY_SPACE, KEY_GUIDE, KEY_PAUSE].forEach(k => localStorage.removeItem(k));
          });
        }

        function applyInitialSettings() {
          // font size
          const savedSize = localStorage.getItem(KEY_SIZE);
          if (savedSize) {
            document.documentElement.style.fontSize = savedSize + '%';
            if (sizeSlider) sizeSlider.value = savedSize;
          }

          // colors + high contrast
          const savedFg = localStorage.getItem(KEY_FG);
          const savedBg = localStorage.getItem(KEY_BG);
          const savedHC = localStorage.getItem(KEY_HC);

          if (savedFg) document.documentElement.style.setProperty('--a11y-fg', savedFg);
          if (savedBg) document.documentElement.style.setProperty('--a11y-bg', savedBg);
          if (savedHC === '1' && (savedFg || savedBg)) {
            document.body.classList.add('a11y-high-contrast', 'a11y-custom-colors');
          }

          const loadState = (key, cls, input) => {
            if (localStorage.getItem(key) === '1') {
              if (cls === 'a11y-grayscale') document.documentElement.classList.add(cls);
              else document.body.classList.add(cls);
              if (input) input.checked = true;
            }
          };

          loadState(KEY_DYS, 'a11y-dyslexia-font', dyslexiaToggle);
          loadState(KEY_CURSOR, 'a11y-cursor-big', cursorToggle);
          loadState(KEY_LINKS, 'a11y-highlight-links', linksToggle);
          loadState(KEY_GRAY, 'a11y-grayscale', grayscaleToggle);
          loadState(KEY_SPACE, 'a11y-text-spacing', spacingToggle);
          loadState(KEY_GUIDE, 'a11y-reading-guide', guideToggle);
          loadState(KEY_PAUSE, 'a11y-paused', animationToggle);
        }
      })();
    </script>
</body>

</html>